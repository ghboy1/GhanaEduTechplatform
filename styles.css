<style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap');
   
    :root{
      --gold:#FFD700;
      --green:#006B3F;
      --red:#CE1126;
      --dark:#080a0f;
      --card:#fdfdfd;
      --accent:#FFD700;
      --text:#010912;
      --muted:#94a3b8;
      --shadow:0 4px 6px -1px rgba(191, 166, 166, 0.934),0 2px 4px -1px rgba(0,0,0,0.06);
    }
   
    *{margin:0;padding:0;box-sizing:border-box}
   
    body{
      font-family:'Space Grotesk',system-ui,sans-serif;
      background:#0298be;
      color:var(--text);
      overflow-x:hidden;
      position:relative;
    }
   
    /* Animated Ghana Flag Background */
    body::before {
      content:'';
      position:fixed;
      top:0;left:0;right:0;bottom:0;
      background:linear-gradient(180deg,
        var(--red) 0%, var(--red) 33.33%,
        var(--gold) 33.33%, var(--gold) 66.66%,
        var(--green) 66.66%, var(--green) 100%);
      opacity:0.03;
      z-index:0;
      pointer-events:none;
    }
   
    /* Floating particles with improved animation */
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
      50% { transform: translateY(-30px) rotate(180deg) scale(1.1); }
    }
   
    .particle {
      position:fixed;
      font-size:24px;
      opacity:0.15;
      animation:float 8s ease-in-out infinite;
      pointer-events:none;
      z-index:1;
      filter: blur(1px);
    }
   
    .container {
      position:relative;
      z-index:2;
      min-height:100vh;
      padding:20px;
    }
   
    /* Topic Selection Screen with enhanced layout */
    #topicSelection {
      max-width:1400px;
      margin:0 auto;
      padding:60px 20px;
      animation:fadeIn 1s ease-out;
    }
   
    @keyframes fadeIn {
      from { opacity:0; }
      to { opacity:1; }
    }
   
    .hero {
      text-align:center;
      margin-bottom:80px;
      animation:fadeInDown 1s ease-out;
    }
   
    @keyframes fadeInDown {
      from { opacity:0; transform:translateY(-50px); }
      to { opacity:1; transform:translateY(0); }
    }
   
    .hero h1 {
      font-size:clamp(3rem, 8vw, 6rem);
      font-weight:700;
      background:linear-gradient(135deg, var(--gold), var(--green), var(--red));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
      margin-bottom:24px;
      letter-spacing:-3px;
      text-shadow: var(--shadow);
    }
   
    .hero .subtitle {
      font-size:clamp(1.2rem, 2.5vw, 1.8rem);
      color:var(--muted);
      font-weight:400;
      max-width:800px;
      margin:0 auto;
    }
   
    .topic-grid {
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(340px, 1fr));
      gap:40px;
      margin-top:60px;
    }
   
    .topic-card {
      background:linear-gradient(135deg, rgba(1, 88, 13, 0.98), rgba(30,41,59,0.98));
      border-radius:28px;
      padding:50px 40px;
      cursor:pointer;
      border:2px solid rgba(255,215,0,0.15);
      transition:all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      position:relative;
      overflow:hidden;
      backdrop-filter:blur(12px);
      box-shadow: var(--shadow);
    }
   
    .topic-card::before {
      content:'';
      position:absolute;
      top:0;left:0;right:0;bottom:0;
      background:radial-gradient(circle at center, rgba(0, 234, 255, 0.463), transparent);
      opacity:0;
      transition:opacity 0.5s;
    }
   
    .topic-card:hover {
      transform:translateY(-15px) scale(1.03);
      border-color:var(--gold);
      box-shadow:0 30px 60px rgba(255, 0, 0, 0.71);
    }
   
    .topic-card:hover::before {
      opacity:1;
    }
   
    .topic-icon {
      font-size:100px;
      margin-bottom:24px;
      display:block;
      animation:bounce 2.5s ease infinite;
    }
   
    @keyframes bounce {
      0%, 100% { transform:translateY(0); }
      50% { transform:translateY(-15px); }
    }
   
    .topic-card h3 {
      font-size:2rem;
      margin-bottom:16px;
      color:var(--gold);
    }
   
    .topic-card p {
      color:var(--muted);
      line-height:1.7;
      margin-bottom:24px;
    }
   
    .topic-count {
      display:inline-block;
      background:rgba(255,215,0,0.2);
      color:var(--gold);
      padding:10px 20px;
      border-radius:24px;
      font-size:1rem;
      font-weight:600;
    }
   
    /* Game Screen with improved responsiveness */
    #gameContainer {
      max-width:1800px;
      margin:0 auto;
    }
   
    .game-header {
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:40px;
      padding:24px 30px;
      background:rgb(23, 187, 5);
      border-radius:24px;
      backdrop-filter:blur(12px);
      animation:slideInDown 0.8s ease-out;
      box-shadow: var(--shadow);
    }
   
    @keyframes slideInDown {
      from { transform:translateY(-100%); opacity:0; }
      to { transform:translateY(0); opacity:1; }
    }
   
    .game-title h1 {
      font-size:2.5rem;
      background:linear-gradient(90deg, var(--gold), var(--green));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
   
    .game-title p {
      color:var(--muted);
      font-size:1.2rem;
    }
   
    .back-btn {
      padding:14px 28px;
      background:linear-gradient(135deg, var(--gold), #FFA500);
      color:var(--dark);
      border:none;
      border-radius:14px;
      font-weight:600;
      cursor:pointer;
      transition:all 0.4s;
      font-size:1.1rem;
      box-shadow: var(--shadow);
    }
   
    .back-btn:hover {
      transform:scale(1.08);
      box-shadow:0 15px 40px rgb(255, 217, 0);
    }
   
    .game-layout {
      display:grid;
      grid-template-columns:420px 1fr;
      gap:40px;
    }
   
    @media(max-width:1200px) {
      .game-layout { grid-template-columns:1fr; }
      .sidebar { position:static; max-height:none; }
    }
   
    /* Sidebar with scroll snapping */
    .sidebar {
      background:rgba(39, 82, 71, 0.85);
      border-radius:28px;
      padding:28px;
      backdrop-filter:blur(24px);
      border:1px solid rgba(255,215,0,0.15);
      max-height:calc(100vh - 220px);
      overflow-y:auto;
      position:sticky;
      top:30px;
      box-shadow: var(--shadow);
      scroll-snap-type: y proximity;
    }
   
    .search-box {
      width:100%;
      padding:16px 24px;
      background:rgba(255,255,255,0.08);
      border:2px solid rgba(255,215,0,0.25);
      border-radius:14px;
      color:var(--text);
      font-size:1.1rem;
      transition:all 0.4s;
      margin-bottom:24px;
    }
   
    .search-box:focus {
      outline:none;
      border-color:var(--gold);
      box-shadow:0 0 25px rgba(255,215,0,0.25);
    }
   
    .progress-section {
      margin-bottom:28px;
      padding:24px;
      background:rgba(0,107,63,0.15);
      border-radius:20px;
      border-left:5px solid var(--green);
      box-shadow: var(--shadow);
    }
   
    .progress-header {
      display:flex;
      justify-content:space-between;
      margin-bottom:16px;
    }
   
    .progress-label {
      font-weight:600;
      color:var(--gold);
    }
   
    .progress-percentage {
      font-weight:700;
      color:var(--green);
    }
   
    .progress-bar {
      height:14px;
      background:rgba(255, 255, 255, 0.848);
      border-radius:24px;
      overflow:hidden;
      position:relative;
    }
   
    .progress-fill {
      height:100%;
      background:linear-gradient(90deg, var(--green), var(--gold));
      border-radius:24px;
      transition:width 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
      position:relative;
      overflow:hidden;
    }
   
    .progress-fill::after {
      content:'';
      position:absolute;
      top:0;left:0;right:0;bottom:0;
      background:linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.515), transparent);
      animation:shimmer 2.5s infinite;
    }
   
    @keyframes shimmer {
      0% { transform:translateX(-100%); }
      100% { transform:translateX(100%); }
    }
   
    .progress-text {
      text-align:center;
      margin-top:10px;
      color:var(--muted);
      font-size:1rem;
    }
   
    .concept-list {
      display:flex;
      flex-direction:column;
      gap:16px;
    }
   
    .concept-item {
      padding:20px;
      background:rgba(255,255,255,0.05);
      border-radius:14px;
      border:2px solid rgba(255,215,0,0.15);
      cursor:pointer;
      transition:all 0.4s;
      box-shadow: var(--shadow);
      scroll-snap-align: start;
    }
   
    .concept-item:hover {
      transform:translateX(10px);
      border-color:var(--gold);
      background:rgba(255,215,0,0.08);
    }
   
    .concept-item.completed {
      border-color:var(--green);
      background:linear-gradient(135deg, rgba(0,107,63,0.25), rgba(0,107,63,0.08));
    }
   
    .concept-item.active {
      border-color:var(--gold);
      background:linear-gradient(135deg, rgb(255, 217, 0), rgba(255, 217, 0, 0.974));
      box-shadow:0 0 25px rgba(255, 217, 0, 0.956);
    }
   
    .concept-header {
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:10px;
    }
   
    .concept-icon {
      font-size:28px;
    }
   
    .concept-title {
      flex:1;
      font-weight:600;
      font-size:1.1rem;
    }
   
    .difficulty-badge {
      padding:6px 14px;
      border-radius:24px;
      font-size:0.85rem;
      font-weight:600;
      text-transform:uppercase;
    }
   
    .difficulty-badge.easy {
      background:var(--green);
      color:rgb(255, 255, 255);
    }
   
    .difficulty-badge.medium {
      background:var(--gold);
      color:var(--dark);
    }
   
    .difficulty-badge.hard {
      background:var(--red);
      color:rgb(100, 64, 64);
    }
   
    .concept-desc {
      color:var(--muted);
      font-size:1rem;
      line-height:1.6;
    }
   
    .check-icon {
      color:var(--green);
      font-size:28px;
    }
   
    /* Main Content with enhanced stats */
    .main-content {
      display:flex;
      flex-direction:column;
      gap:40px;
    }
   
    .stats-grid {
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
      gap:24px;
    }
   
    .stat-card {
      background:rgb(4, 106, 8);
      border-radius:24px;
      padding:35px;
      text-align:center;
      border:2px solid rgb(255, 225, 0);
      backdrop-filter:blur(12px);
      transition:all 0.4s;
      position:relative;
      overflow:hidden;
      box-shadow: var(--shadow);
    }
   
    .stat-card::before {
      content:'';
      position:absolute;
      top:-60%;
      left:-60%;
      width:220%;
      height:220%;
      background:radial-gradient(circle, rgba(0, 255, 238, 0.597), transparent);
      animation:rotate 12s linear infinite;
    }
   
    @keyframes rotate {
      from { transform:rotate(0deg); }
      to { transform:rotate(360deg); }
    }
   
    .stat-card:hover {
      transform:translateY(-10px);
      border-color:var(--gold);
      box-shadow:0 20px 50px rgba(208, 255, 0, 0.384);
    }
   
    .stat-value {
      font-size:3.5rem;
      font-weight:700;
      background:linear-gradient(135deg, var(--gold), var(--green));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
      margin-bottom:10px;
      position:relative;
      z-index:1;
    }
   
    .stat-label {
      color:var(--muted);
      text-transform:uppercase;
      font-size:1rem;
      letter-spacing:1.5px;
      font-weight:600;
      position:relative;
      z-index:1;
    }
   
    .content-area {
      background:rgba(17,24,39,0.85);
      border-radius:28px;
      padding:50px;
      border:2px solid rgba(255, 217, 0, 0.944);
      backdrop-filter:blur(12px);
      box-shadow: var(--shadow);
    }
   
    .welcome-screen {
      text-align:center;
      padding:100px 50px;
    }
   
    .welcome-icon {
      font-size:140px;
      margin-bottom:35px;
      animation:pulse 2.5s ease infinite;
    }
   
    @keyframes pulse {
      0%, 100% { transform:scale(1); opacity:0.9; }
      50% { transform:scale(1.15); opacity:1; }
    }
   
    .welcome-screen h2 {
      font-size:3rem;
      color:var(--gold);
      margin-bottom:24px;
    }
   
    .welcome-screen p {
      color:var(--muted);
      font-size:1.4rem;
      line-height:1.9;
      max-width:800px;
      margin:0 auto;
    }
   
    .content-screen {
      animation:fadeIn 0.8s ease-out;
    }
   
    .content-title {
      font-size:3rem;
      margin-bottom:35px;
      display:flex;
      align-items:center;
      gap:20px;
      color:var(--gold);
    }
   
    .visual-section {
      background:rgba(0,0,0,0.35);
      border-radius:20px;
      padding:50px;
      margin-bottom:35px;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:450px;
      border:1px solid rgba(255, 217, 0, 0.868);
      box-shadow: var(--shadow);
    }
   
    #phaser-game {
      width:800px;
      height:500px;
      margin:0 auto;
    }
   
    .info-section {
      background:linear-gradient(135deg, rgba(0, 107, 62, 0.953), rgba(255, 217, 0, 0.773));
      padding:28px;
      border-radius:20px;
      margin-bottom:28px;
      border-left:5px solid var(--green);
      box-shadow: var(--shadow);
    }
   
    .info-section h4 {
      color:var(--gold);
      font-size:1.2rem;
      margin-bottom:16px;
      text-transform:uppercase;
      letter-spacing:1.5px;
    }
   
    .info-section p {
      color:var(--text);
      line-height:1.9;
      font-size:1.2rem;
    }
   
    .quiz-section {
      background:linear-gradient(135deg, rgba(255,215,0,0.15), rgba(0,107,63,0.15));
      padding:40px;
      border-radius:24px;
      border:2px solid rgba(255,215,0,0.25);
      box-shadow: var(--shadow);
    }
   
    .quiz-section h4 {
      color:var(--gold);
      font-size:1.8rem;
      margin-bottom:28px;
      display:flex;
      align-items:center;
      gap:16px;
    }
   
    .quiz-question {
      font-size:1.5rem;
      font-weight:600;
      margin-bottom:28px;
      line-height:1.7;
      color:var(--text);
    }
   
    .quiz-options {
      display:grid;
      gap:20px;
      margin-bottom:28px;
    }
   
    .quiz-option {
      padding:24px 28px;
      background:rgba(255,255,255,0.08);
      border:2px solid rgba(255,215,0,0.25);
      border-radius:14px;
      cursor:pointer;
      transition:all 0.4s;
      font-size:1.2rem;
      position:relative;
      overflow:hidden;
      box-shadow: var(--shadow);
    }
   
    .quiz-option::before {
      content:'';
      position:absolute;
      top:0;left:-100%;
      width:100%;height:100%;
      background:linear-gradient(90deg, transparent, rgba(208, 182, 33, 0.982), transparent);
      transition:left 0.6s;
    }
   
    .quiz-option:hover::before {
      left:100%;
    }
   
    .quiz-option:hover {
      background:rgba(255,215,0,0.15);
      border-color:var(--gold);
      transform:translateX(10px);
    }
   
    .quiz-option.correct {
      background:rgba(0,107,63,0.35);
      border-color:var(--green);
      animation:correctPulse 0.8s;
    }
   
    @keyframes correctPulse {
      0%, 100% { transform:scale(1); }
      50% { transform:scale(1.04); }
    }
   
    .quiz-option.wrong {
      background:rgba(153, 7, 24, 0.432);
      border-color:var(--red);
      animation:wrongShake 0.8s;
    }
   
    @keyframes wrongShake {
      0%, 100% { transform:translateX(0); }
      25% { transform:translateX(-12px); }
      75% { transform:translateX(12px); }
    }
   
    .quiz-option.disabled {
      opacity:0.7;
      cursor:not-allowed;
    }
   
    .quiz-feedback {
      padding:28px;
      border-radius:14px;
      margin-bottom:28px;
      font-size:1.2rem;
      font-weight:600;
      display:none;
      animation:slideUp 0.5s ease-out;
    }
   
    @keyframes slideUp {
      from { opacity:0; transform:translateY(30px); }
      to { opacity:1; transform:translateY(0); }
    }
   
    .quiz-feedback.show {
      display:block;
    }
   
    .quiz-feedback.correct {
      background:rgba(0,107,63,0.35);
      border:2px solid var(--green);
      color:var(--green);
    }
   
    .quiz-feedback.wrong {
      background:rgba(206, 17, 39, 0.39);
      border:2px solid var(--red);
      color:var(--red);
    }
   
    .explanation {
      margin-top:16px;
      color:var(--text);
      font-weight:400;
      font-size:1.1rem;
      opacity:0.95;
    }
   
    .btn-group {
      display:flex;
      gap:20px;
      flex-wrap:wrap;
    }
   
    .btn {
      padding:16px 32px;
      border-radius:14px;
      border:none;
      font-weight:600;
      font-size:1.1rem;
      cursor:pointer;
      transition:all 0.4s;
      position:relative;
      overflow:hidden;
      box-shadow: var(--shadow);
    }
   
    .btn::before {
      content:'';
      position:absolute;
      top:50%;left:50%;
      width:0;height:0;
      background:rgba(12, 201, 204, 0.266);
      border-radius:50%;
      transform:translate(-50%, -50%);
      transition:width 0.7s, height 0.7s;
    }
   
    .btn:hover::before {
      width:350px;
      height:350px;
    }
   
    .btn-primary {
      background:linear-gradient(135deg, var(--gold), #00ff1a);
      color:var(--dark);
      position:relative;
      z-index:1;
    }
   
    .btn-primary:hover {
      transform:translateY(-6px);
      box-shadow:0 20px 50px rgb(255, 0, 140);
    }
   
    .btn-secondary {
      background:linear-gradient(135deg, var(--green), #0f4e35);
      color:rgb(255, 255, 255);
      position:relative;
      z-index:1;
    }
   
    .btn-secondary:hover {
      transform:translateY(-6px);
      box-shadow:0 20px 50px rgb(9, 180, 109);
    }
   
    .hidden {
      display:none !important;
    }
   
    footer {
      text-align:center;
      padding:50px 20px;
      color:var(--muted);
      margin-top:80px;
    }
   
    footer p {
      margin:10px 0;
      font-size:1.1rem;
    }
   
    /* Improved Scrollbar */
    ::-webkit-scrollbar {
      width:12px;
    }
   
    ::-webkit-scrollbar-track {
      background:rgb(136, 2, 2);
    }
   
    ::-webkit-scrollbar-thumb {
      background:linear-gradient(180deg, var(--gold), var(--green));
      border-radius:12px;
      border:3px solid rgb(2, 225, 255);
    }
   
    /* Accessibility improvements */
    button, input {
      outline:none;
    }
   
    button:focus, input:focus {
      box-shadow:0 0 0 3px rgb(255, 217, 0);
    }
  </style>